<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2017-08-16 Wed 10:53 -->
<meta charset="utf-8">
<title>My first contribution to an Emacs package</title>
<meta name="generator" content="Org mode">
<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700&subset=latin,latin-ext' rel='stylesheet' type='text/css'><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:400,700' rel='stylesheet' type='text/css'><link href='https://fonts.googleapis.com/css?family=PT+Serif:400,400i,700' rel='text/css'><link href='https://fonts.googleapis.com/css?family=Open+Sans:600,700,700i' rel='text/css'><link href='../static/css/code.css' rel='stylesheet' type='text/css' /><meta name='viewport' content='width=device-width, initial-scale=1' />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="preamble" class="status">
<div id="topbar">
  <div id="topbar-inner">
    <div id="topbar-heading">
      <img class="avatar" src="https://s.gravatar.com/avatar/289c08bda6657ec2f199b62abed52b43?s=80"/>
      <div id="topbar-title">
        <div>Walter Manger | To The Triforce</div>
        <div id="topbar-tagline">Quests for Knowledge</div>
      </div>
    </div>
    <ul id="topbar-nav">
      <li><a href="../index.html">Home</a></li>
      <li class="github"><a href="https://github.com/walter-manger" target="_blank"></a></li>
      <li class="linkedin"><a href="https://www.linkedin.com/in/waltermanger/" target="_blank"></a></li>
    </ul>
  </div>
</div>
</div>
<div id="content">
<header>
<h1 class="title">My first contribution to an Emacs package</h1>
</header><p>
This week I was experimenting with tracking time for work. The goal was
to not leave Emacs (as it always is) and be able to adhere to the time
tracking software that the company that I work for uses,
<a href="https://www.getharvest.com/">Harvest</a>.
</p>

<p>
A quick search produced
<a href="https://github.com/kostajh/harvest.el">harvest.el</a>, which was exactly
what I needed. After experimenting by tracking a few tasks I noticed
that the <i>clock out</i> function was not working properly. What the
function was documented to do was clock out of any running clocked
entry. Luckily, I had a little bit of downtime at work and I, forked the
repo, opened up the source and began to debug Elisp the only way I know
how:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>message <span style="color: #2aa198;">"What is this doing? %s"</span> something<span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
Surprisingly, I was able to figure out the issue pretty quickly (about
15 minutes of hacking). There was what looked like a new variable to
keep cached task entries that was not properly being referenced.
Basically, there is an operator in Elisp that creates a list, it looks
something like this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">'<span style="color: #2aa198;">(</span>1 2 3<span style="color: #2aa198;">)</span> <span style="color: #586e75;">;; </span><span style="color: #586e75;">produces a list with elements 1 2 3 ;; =&gt; (1 2 3)</span>
</pre>
</div>

<p>
The function that was causing the problem in my case was taking a
variable, that had previously been set to a list of elements and using
the <i>&rsquo;</i> operator on that list. Which produces entirely different
results. Using my example above:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">'<span style="color: #2aa198;">(</span>'<span style="color: #b58900;">(</span>1 2 3<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span> <span style="color: #586e75;">;; </span><span style="color: #586e75;">=&gt; (quote (1 2 3))</span>
</pre>
</div>

<p>
This produced entirely different results and in the context of the
function, was unusable. All that needed to be done here was removing the
list operator wrapping <i>&rsquo;()</i>. Here&rsquo;s a peek at my pull request:
<a href="https://github.com/kostajh/harvest.el/pull/15">PR #15</a>
</p>

<div id="outline-container-orgbea0245" class="outline-2">
<h2 id="orgbea0245">The moral of this story: Contribute when you can</h2>
<div class="outline-text-2" id="text-orgbea0245">
<p>
This fix took me about 30 minutes of total time. That included getting
the Pull Request ready for the author. The author appreciated the help
and perhaps many of the package users will appreciate it too. We should
all help when we can. I learned a little more about Elisp along the way,
so it wasn&rsquo;t all giving and not receiving.
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<div id="bottombar">
  <div id="bottombar-inner">
  </div>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-39222739-1', 'auto');
  ga('send', 'pageview');
</script>
</div>
</body>
</html>
