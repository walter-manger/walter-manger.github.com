	<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.15" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title> My first contribution to an Emacs package &middot; To The Triforce </title>

  
  <link rel="stylesheet" href="http://wmanger.com/css/poole.css">
  <link rel="stylesheet" href="http://wmanger.com/css/syntax.css">
  <link rel="stylesheet" href="http://wmanger.com/css/hyde.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="To The Triforce" />
</head>

	<body class="">
		<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="http://wmanger.com/"><h1>To The Triforce</h1></a>
      <p class="lead">
       Quests for Knowledge 
      </p>
    </div>

    <ul class="sidebar-nav">
      <li><a href="/">Home</a> </li>
      
    </ul>

    <p>&copy; 2017. All rights reserved. </p>
  </div>
</div>


		<div class="content container">
			<div class="post">
			 	<h1>My first contribution to an Emacs package</h1>
			  <span class="post-date">Sun, Apr 3, 2016</span>
			      

<p>This week I was experimenting with tracking time for work. The goal was to not leave Emacs (as it always is) and be able to adhere to the time tracking software that the company that I work for uses, <a href="https://www.getharvest.com/">Harvest</a>.</p>

<p>A quick search produced <a href="https://github.com/kostajh/harvest.el">harvest.el</a>, which was exactly what I needed. After experimenting by tracking a few tasks I noticed that the <em>clock out</em> function was not working properly. What the function was documented to do was clock out of any running clocked entry. Luckily, I had a little bit of downtime at work and I, forked the repo, opened up the source and began to debug Elisp the only way I know how:</p>

<div class="highlight" style="background: #111111"><pre style="line-height: 125%"><span style="color: #ffffff">(</span><span style="color: #fb660a">message</span> <span style="color: #0086d2">&quot;What is this doing? %s&quot;</span> <span style="color: #fb660a">something</span><span style="color: #ffffff">)</span>
</pre></div>


<p>Surprisingly, I was able to figure out the issue pretty quickly (about 15 minutes of hacking). There was what looked like a new variable to keep cached task entries that was not properly being referenced. Basically, there is an operator in Elisp that creates a list, it looks something like this:</p>

<div class="highlight" style="background: #111111"><pre style="line-height: 125%"><span style="color: #ffffff">&#39;(</span><span style="color: #0086f7; font-weight: bold">1</span> <span style="color: #0086f7; font-weight: bold">2</span> <span style="color: #0086f7; font-weight: bold">3</span><span style="color: #ffffff">)</span> <span style="color: #008800; font-style: italic; background-color: #0f140f">;; produces a list with elements 1 2 3</span>
<span style="color: #008800; font-style: italic; background-color: #0f140f">;; =&gt; (1 2 3)</span>
</pre></div>


<p>The function that was causing the problem in my case was taking a variable, that had previously been set to a list of elements and using the <em>&lsquo;</em> operator on that list. Which produces entirely different results. Using my example above:</p>

<p><div class="highlight" style="background: #111111"><pre style="line-height: 125%"><span style="color: #ffffff">&#39;(&#39;(</span><span style="color: #0086f7; font-weight: bold">1</span> <span style="color: #0086f7; font-weight: bold">2</span> <span style="color: #0086f7; font-weight: bold">3</span><span style="color: #ffffff">))</span> 
<span style="color: #008800; font-style: italic; background-color: #0f140f">;; =&gt; (quote (1 2 3))</span>
</pre></div>
</p>

<p>This produced entirely different results and in the context of the function, was unusable. All that needed to be done here was removing the list operator wrapping <em>&rsquo;()</em>. Here&rsquo;s a peek at my pull request: <a href="https://github.com/kostajh/harvest.el/pull/15">PR #15</a></p>

<h3 id="the-moral-of-this-story-contribute-when-you-can:93bf0e0c1aa53e7b4c0297c4e30c3f29">The moral of this story: Contribute when you can</h3>

<p>This fix took me about 30 minutes of total time. That included getting the Pull Request ready for the author. The author appreciated the help and perhaps many of the package users will appreciate it too. We should all help when we can. I learned a little more about Elisp along the way, so it wasn&rsquo;t all giving and not receiving.</p>

			</div>

			
		</div>

  </body>
</html>
